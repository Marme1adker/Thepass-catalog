<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>The Pass ‚Äî –ö–∞—Ç–∞–ª–æ–≥</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0f0d17; --surface:#1a1628; --surface2:#231d36; --border:#2e2648;
  --purple:#8b5cf6; --purple2:#a78bfa; --purple3:#6d28d9; --accent:#c4b5fd;
  --text:#e2dff0; --muted:#7c6fa0; --dim:#4a4268;
  --dlc:#f59e0b; --dlc-bg:#f59e0b18;
  --sidebar:260px;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{background:var(--bg);color:var(--text);font-family:'Inter',sans-serif;font-size:14px;min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background:radial-gradient(ellipse 80% 50% at 50% -10%,#3b1f6e22 0%,transparent 70%),radial-gradient(ellipse 40% 30% at 90% 80%,#5b21b611 0%,transparent 60%);pointer-events:none;z-index:0}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LAYOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.page{position:relative;z-index:1;display:flex;min-height:100vh}

/* –°–∞–π–¥–±–∞—Ä */
.sidebar{
  width:var(--sidebar);flex-shrink:0;
  background:var(--surface);
  border-right:1px solid var(--border);
  padding:20px 14px 40px;
  position:sticky;top:0;height:100vh;overflow-y:auto;
  display:flex;flex-direction:column;gap:4px;
}
.sidebar::-webkit-scrollbar{width:3px}
.sidebar::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* –°–∞–π–¥–±–∞—Ä ‚Äî –º–æ–±–∏–ª—å (—Å–∫—Ä—ã—Ç, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ drawer) */
.sidebar-overlay{display:none;position:fixed;inset:0;background:#00000070;z-index:100}
.sidebar-overlay.open{display:block}

@media(max-width:700px){
  .sidebar{
    position:fixed;left:0;top:0;height:100vh;z-index:101;
    transform:translateX(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1);
    box-shadow:8px 0 32px #00000060;
  }
  .sidebar.open{transform:translateX(0)}
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
.main{flex:1;min-width:0;padding:0 14px 80px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –®–ê–ü–ö–ê ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.header{padding:18px 0 14px;display:flex;align-items:center;gap:10px}
.header-logo{width:34px;height:34px;background:linear-gradient(135deg,var(--purple3),var(--purple2));border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:17px;box-shadow:0 0 14px #8b5cf640;flex-shrink:0}
.header-text h1{font-family:'Syne',sans-serif;font-size:17px;font-weight:800;letter-spacing:-.3px}
.header-text p{font-size:11px;color:var(--muted);margin-top:1px}
.header-spacer{flex:1}

/* –ö–Ω–æ–ø–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –º–æ–±–∏–ª—å) */
.filter-toggle-btn{
  display:none;
  align-items:center;gap:6px;
  background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:7px 12px;
  color:var(--text);font-size:12px;font-weight:600;
  cursor:pointer;transition:border-color .15s,background .15s;
  white-space:nowrap;
}
.filter-toggle-btn:hover{border-color:var(--purple);background:var(--surface2)}
.filter-badge{background:var(--purple3);color:#fff;border-radius:10px;padding:1px 6px;font-size:10px;display:none}
.filter-badge.show{display:inline-block}
@media(max-width:700px){.filter-toggle-btn{display:flex}}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ü–û–ò–°–ö ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.search-wrap{position:relative;margin-bottom:12px}
.search-icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--dim);font-size:14px;pointer-events:none}
.search-input{width:100%;background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:10px 10px 10px 34px;color:var(--text);font-family:'Inter',sans-serif;font-size:13px;outline:none;transition:border-color .2s,box-shadow .2s}
.search-input::placeholder{color:var(--dim)}
.search-input:focus{border-color:var(--purple);box-shadow:0 0 0 3px #8b5cf618}
.search-clear{position:absolute;right:9px;top:50%;transform:translateY(-50%);background:var(--border);border:none;border-radius:50%;width:20px;height:20px;color:var(--muted);font-size:11px;cursor:pointer;display:none;align-items:center;justify-content:center}
.search-clear.visible{display:flex}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –¢–£–õ–ë–ê–† ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.toolbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;padding:0 1px}
.stats-count{font-size:11px;color:var(--muted)}
.stats-count span{color:var(--purple2);font-weight:600}
.view-toggle{display:flex;background:var(--surface);border:1px solid var(--border);border-radius:8px;overflow:hidden}
.view-btn{background:none;border:none;padding:5px 9px;cursor:pointer;color:var(--dim);transition:background .15s,color .15s;display:flex;align-items:center;justify-content:center}
.view-btn.active{background:var(--purple3);color:#fff}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ê–ö–¢–ò–í–ù–´–ï –¢–ï–ì–ò (–Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.active-filters{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}
.af-chip{display:inline-flex;align-items:center;gap:5px;background:var(--purple3);border-radius:20px;padding:4px 10px 4px 10px;font-size:11px;color:#fff;cursor:pointer;transition:background .15s}
.af-chip:hover{background:#7c3aed}
.af-chip-x{font-size:13px;line-height:1;margin-left:1px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SIDEBAR CONTROLS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.sb-section{margin-bottom:6px}
.sb-section-hdr{
  display:flex;align-items:center;justify-content:space-between;
  padding:8px 6px 6px;cursor:pointer;
  font-family:'Syne',sans-serif;font-size:12px;font-weight:700;
  letter-spacing:.5px;color:var(--text);
  border-radius:8px;transition:background .15s;
  user-select:none;
}
.sb-section-hdr:hover{background:var(--surface2)}
.sb-chevron{font-size:11px;color:var(--muted);transition:transform .2s}
.sb-section.collapsed .sb-chevron{transform:rotate(-90deg)}
.sb-section.collapsed .sb-body{display:none}
.sb-body{padding:2px 0 6px}

/* –¢–µ–≥–∏-–∫–Ω–æ–ø–∫–∏ –≤ —Å–∞–π–¥–±–∞—Ä–µ */
.tag-btn{
  display:flex;align-items:center;gap:8px;width:100%;
  background:none;border:none;padding:6px 8px;border-radius:8px;
  color:var(--muted);font-family:'Inter',sans-serif;font-size:12px;
  cursor:pointer;transition:background .15s,color .15s;text-align:left;
}
.tag-btn:hover{background:var(--surface2);color:var(--text)}
.tag-btn.active{background:var(--purple3);color:#fff}
.tag-btn.active .tag-ico{opacity:1}
.tag-ico{font-size:14px;flex-shrink:0;opacity:.6}
.tag-count{margin-left:auto;font-size:10px;background:var(--surface2);border-radius:10px;padding:1px 6px;color:var(--dim)}
.tag-btn.active .tag-count{background:#ffffff20;color:#ffffffaa}

/* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å */
.sb-sep{height:1px;background:var(--border);margin:8px 4px}

/* –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ */
.sb-reset{
  width:100%;background:none;border:1px solid var(--border);
  border-radius:10px;padding:8px;
  color:var(--muted);font-size:11px;font-family:'Inter',sans-serif;
  cursor:pointer;transition:all .15s;margin-top:8px;
}
.sb-reset:hover{border-color:var(--purple);color:var(--text);background:var(--surface2)}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ì–†–£–ü–ü–ê / –ó–ê–ì–û–õ–û–í–û–ö ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.pub-header{display:flex;align-items:center;gap:8px;padding:10px 0 5px}
.pub-dot{width:5px;height:5px;border-radius:50%;background:var(--purple);box-shadow:0 0 5px var(--purple);flex-shrink:0}
.pub-name{font-family:'Syne',sans-serif;font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted)}
.pub-line{flex:1;height:1px;background:linear-gradient(to right,var(--border),transparent)}

/* DLC badge */
.dlc-tag{display:inline-flex;align-items:center;background:var(--dlc-bg);border:1px solid var(--dlc);border-radius:4px;padding:1px 5px;font-size:9px;font-weight:700;color:var(--dlc);letter-spacing:.5px;text-transform:uppercase;flex-shrink:0;margin-left:5px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –°–ü–ò–°–û–ö ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.list-card{display:flex;align-items:center;gap:11px;padding:9px 11px;background:var(--surface);border:1px solid var(--border);border-radius:11px;margin-bottom:5px;cursor:pointer;transition:background .15s,border-color .15s,transform .1s;-webkit-user-select:none;user-select:none;position:relative;overflow:hidden}
.list-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(to bottom,var(--purple3),var(--purple2));opacity:0;transition:opacity .15s;border-radius:3px 0 0 3px}
.list-card:active{transform:scale(0.985);background:var(--surface2)}
.list-card:hover{border-color:var(--purple3);background:var(--surface2)}
.list-card:hover::before{opacity:1}
.list-icon{width:40px;height:40px;border-radius:9px;background:var(--surface2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;overflow:hidden}
.list-icon img{width:100%;height:100%;object-fit:cover;border-radius:8px}
.list-info{flex:1;min-width:0}
.list-row{display:flex;align-items:center;min-width:0;overflow:hidden}
.list-title{font-family:'Syne',sans-serif;font-size:12px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3}
.list-title mark{background:#8b5cf640;color:var(--accent);border-radius:3px;padding:0 1px}
.list-sub{font-size:10px;color:var(--muted);margin-top:2px}
/* —Ç–µ–≥–∏ –∏–≥—Ä—ã –≤ —Å–ø–∏—Å–∫–µ */
.list-tags{display:flex;flex-wrap:wrap;gap:3px;margin-top:3px}
.list-tag{font-size:9px;background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:1px 5px;color:var(--dim)}
.list-arrow{color:var(--dim);font-size:15px;flex-shrink:0;margin-left:6px;transition:color .15s,transform .15s}
.list-card:hover .list-arrow{color:var(--purple2);transform:translateX(2px)}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –°–ï–¢–ö–ê ‚Äî –∞–¥–∞–ø—Ç–∏–≤ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.grid-wrap{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:4px}
@media(min-width:600px){.grid-wrap{grid-template-columns:repeat(3,1fr)}}
@media(min-width:900px){.grid-wrap{grid-template-columns:repeat(4,1fr)}}
@media(min-width:1200px){.grid-wrap{grid-template-columns:repeat(5,1fr)}}
.grid-pub-hdr{grid-column:1/-1;display:flex;align-items:center;gap:8px;padding:8px 0 2px}
.grid-card{background:var(--surface);border:1px solid var(--border);border-radius:11px;overflow:hidden;cursor:pointer;transition:transform .15s,border-color .15s;-webkit-user-select:none;user-select:none;position:relative}
.grid-card:active{transform:scale(0.96)}
.grid-card:hover{border-color:var(--purple3)}
.grid-card.is-dlc{border-color:#f59e0b28}
.grid-img{width:100%;aspect-ratio:16/9;background:var(--surface2);position:relative;overflow:hidden}
.grid-img img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .3s}
.grid-card:hover .grid-img img{transform:scale(1.04)}
.grid-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:28px;background:linear-gradient(135deg,var(--surface2),var(--border))}
.grid-badge{position:absolute;bottom:5px;left:5px;background:#00000085;backdrop-filter:blur(4px);border-radius:4px;padding:2px 5px;font-size:9px;color:var(--accent);font-weight:600;letter-spacing:.5px;text-transform:uppercase;border:1px solid #ffffff0f;max-width:calc(100% - 10px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.grid-dlc-badge{position:absolute;top:5px;right:5px;background:#f59e0bcc;border-radius:4px;padding:2px 5px;font-size:8px;font-weight:800;color:#000;letter-spacing:.5px}
.grid-info{padding:7px 9px 9px}
.grid-title{font-family:'Syne',sans-serif;font-size:11px;font-weight:700;color:var(--text);line-height:1.35;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.grid-title mark{background:#8b5cf640;color:var(--accent);border-radius:3px;padding:0 1px}
.grid-pub{font-size:9px;color:var(--muted);margin-top:2px}
.grid-tags{display:flex;flex-wrap:wrap;gap:2px;margin-top:4px}
.grid-tag{font-size:8px;background:var(--surface2);border:1px solid var(--border);border-radius:3px;padding:1px 4px;color:var(--dim)}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ü–£–°–¢–û ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.empty{text-align:center;padding:50px 20px;display:none}
.empty.visible{display:block}
.empty-icon{font-size:38px;margin-bottom:12px;opacity:.5}
.empty-text{font-family:'Syne',sans-serif;font-size:15px;color:var(--muted)}
.empty-sub{font-size:12px;color:var(--dim);margin-top:6px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –¢–û–°–¢ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--purple3);border-radius:12px;padding:10px 18px;font-size:13px;color:var(--accent);z-index:999;transition:transform .3s cubic-bezier(.34,1.56,.64,1);white-space:nowrap;box-shadow:0 8px 32px #00000060}
.toast.show{transform:translateX(-50%) translateY(0)}
#tagSearch:focus{border-color:var(--purple)!important;box-shadow:0 0 0 2px #8b5cf618}
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
</style>
</head>
<body>

<!-- Overlay –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –¥—Ä–æ–≤–µ—Ä–∞ -->
<div class="sidebar-overlay" id="sidebarOverlay"></div>

<div class="page">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –°–ê–ô–î–ë–ê–† –§–ò–õ–¨–¢–†–û–í ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <aside class="sidebar" id="sidebar">

    <div class="sb-section" id="sec-name">
      <div class="sb-section-hdr" data-sec="sec-name">
        <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
        <span class="sb-chevron">‚ñæ</span>
      </div>
      <div class="sb-body">
        <div class="search-wrap" style="margin-bottom:0">
          <span class="search-icon">üîç</span>
          <input class="search-input" id="search" type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." autocomplete="off" autocorrect="off" spellcheck="false" style="font-size:12px;padding:8px 8px 8px 30px">
          <button class="search-clear" id="clearBtn" style="width:18px;height:18px;font-size:10px">‚úï</button>
        </div>
      </div>
    </div>

    <div class="sb-sep"></div>

    <div class="sb-section" id="sec-studio">
      <div class="sb-section-hdr" data-sec="sec-studio">
        <span>–°—Ç—É–¥–∏—è</span>
        <span class="sb-chevron">‚ñæ</span>
      </div>
      <div class="sb-body" id="studio-list">
        <!-- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
      </div>
    </div>

    <div class="sb-sep"></div>

    <div class="sb-section" id="sec-genre">
      <div class="sb-section-hdr" data-sec="sec-genre">
        <span>–ñ–∞–Ω—Ä</span>
        <span class="sb-chevron">‚ñæ</span>
      </div>
      <div class="sb-body" id="genre-list">
        <!-- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
      </div>
    </div>

    <div class="sb-sep"></div>

    <div class="sb-section" id="sec-tags">
      <div class="sb-section-hdr" data-sec="sec-tags">
        <span>–¢–µ–≥–∏</span>
        <span class="sb-chevron">‚ñæ</span>
      </div>
      <div class="sb-body">
        <div style="position:relative;margin-bottom:4px">
          <span style="position:absolute;left:9px;top:50%;transform:translateY(-50%);color:var(--dim);font-size:12px;pointer-events:none">üîç</span>
          <input id="tagSearch" type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–µ–≥–æ–≤..." autocomplete="off" spellcheck="false"
            style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:7px 7px 7px 28px;color:var(--text);font-family:'Inter',sans-serif;font-size:11px;outline:none;transition:border-color .2s">
        </div>
        <div id="tag-list"></div>
      </div>
    </div>

    <div class="sb-sep"></div>

    <div class="sb-section" id="sec-opts">
      <div class="sb-section-hdr" data-sec="sec-opts">
        <span>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</span>
        <span class="sb-chevron">‚ñæ</span>
      </div>
      <div class="sb-body">
        <button class="tag-btn" id="opt-dlc" data-opt="dlc">
          <span class="tag-ico">üîñ</span>–° DLC
        </button>
        <button class="tag-btn" id="opt-ru" data-opt="ru">
          <span class="tag-ico">üá∑üá∫</span>–†—É—Å—Å–∫–∏–π —è–∑—ã–∫
        </button>
        <button class="tag-btn" id="opt-online" data-opt="online">
          <span class="tag-ico">üåê</span>–î–æ—Å—Ç—É–ø–µ–Ω –æ–Ω–ª–∞–π–Ω
        </button>
      </div>
    </div>

    <button class="sb-reset" id="resetBtn">‚úï –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
  </aside>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="main">
    <div class="header">
      <div class="header-logo">üéÆ</div>
      <div class="header-text"><h1>The Pass</h1><p>–ö–∞—Ç–∞–ª–æ–≥ –∏–≥—Ä</p></div>
      <div class="header-spacer"></div>
      <!-- –∫–Ω–æ–ø–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –º–æ–±–∏–ª—å -->
      <button class="filter-toggle-btn" id="filterToggleBtn">
        <svg width="13" height="13" viewBox="0 0 16 16" fill="currentColor"><path d="M1 3h14v1.5L9 10v5l-2-1V10L1 4.5V3z"/></svg>
        –§–∏–ª—å—Ç—Ä—ã
        <span class="filter-badge" id="filterBadge">0</span>
      </button>
    </div>

    <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ–≥–∏ –Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º -->
    <div class="active-filters" id="activeFilters"></div>

    <div class="toolbar">
      <div class="stats-count">–ù–∞–π–¥–µ–Ω–æ: <span id="countNum">0</span></div>
      <div class="view-toggle">
        <button class="view-btn active" id="btnList" title="–°–ø–∏—Å–æ–∫">
          <svg width="15" height="15" viewBox="0 0 16 16" fill="currentColor"><rect x="0" y="1.5" width="16" height="2.8" rx="1.2"/><rect x="0" y="6.5" width="16" height="2.8" rx="1.2"/><rect x="0" y="11.5" width="16" height="2.8" rx="1.2"/></svg>
        </button>
        <button class="view-btn" id="btnGrid" title="–ö–∞—Ä—Ç–æ—á–∫–∏">
          <svg width="15" height="15" viewBox="0 0 16 16" fill="currentColor"><rect x="0" y="0" width="7" height="7" rx="1.5"/><rect x="9" y="0" width="7" height="7" rx="1.5"/><rect x="0" y="9" width="7" height="7" rx="1.5"/><rect x="9" y="9" width="7" height="7" rx="1.5"/></svg>
        </button>
      </div>
    </div>

    <div id="list"></div>
    <div class="empty" id="empty">
      <div class="empty-icon">üîç</div>
      <div class="empty-text">–ò–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</div>
      <div class="empty-sub">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ –∑–∞–ø—Ä–æ—Å</div>
    </div>
  </div>

</div>
<div class="toast" id="toast"></div>

<script>
const S = id => `https://cdn.cloudflare.steamstatic.com/steam/apps/${id}/header.jpg`;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –î–ê–ù–ù–´–ï
// tags: [] ‚Äî –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫-—Ç–µ–≥–æ–≤. –¢–µ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ñ–∏–ª—å—Ç—Ä–µ –∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ.
// –ü—Ä–∏–º–µ—Ä—ã —Ç–µ–≥–æ–≤: "–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä", "–°—é–∂–µ—Ç", "–•–æ—Ä—Ä–æ—Ä", "–ö–æ–æ–ø", "–†—É—Å—Å–∫–∞—è –æ–∑–≤—É—á–∫–∞"
// hasDlc: true ‚Äî –∑–Ω–∞—á–æ–∫ DLC
// opts: [] ‚Äî –º–∞—Å—Å–∏–≤ –∏–∑ "dlc","ru","online" –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const GAMES = [

  // ‚îÄ‚îÄ‚îÄ Rockstar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Grand Theft Auto V",                             short:"GTA V",           group:"Rockstar",           img:S(271590),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä","–≠–∫—à–Ω"],          opts:["dlc","online"] },
  {title:"Red Dead Redemption 2",                          short:"RDR2",            group:"Rockstar",           img:S(1174180), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—é–∂–µ—Ç","–í–µ—Å—Ç–µ—Ä–Ω"],        opts:["dlc"] },
  {title:"Red Dead Redemption",                            short:"RDR",             group:"Rockstar",           img:S(2668510),               tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–í–µ—Å—Ç–µ—Ä–Ω","–°—é–∂–µ—Ç"],        opts:[] },
  {title:"Grand Theft Auto: San Andreas",                  short:"GTA SA",          group:"Rockstar",           img:S(12120),                 tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω"],                   opts:[] },
  {title:"Grand Theft Auto: Vice City",                    short:"GTA Vice City",   group:"Rockstar",           img:S(12110),                 tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω"],                   opts:[] },
  {title:"Grand Theft Auto III",                           short:"GTA III",         group:"Rockstar",           img:S(12100),                 tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω"],                   opts:[] },
  {title:"Grand Theft Auto 2",                             short:"GTA 2",           group:"Rockstar",           img: "https://images.steamusercontent.com/ugc/32185871461983118/287F636965E0404B36831D015148D3617B9EA382/?imw=5000&imh=5000&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=false",                 tags:["–≠–∫—à–Ω"],                                  opts:[] },

  // ‚îÄ‚îÄ‚îÄ CD Projekt Red ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Cyberpunk 2077",                                 short:"Cyberpunk",       group:"CD Projekt Red",     img:S(1091500), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–°—é–∂–µ—Ç","–≠–∫—à–Ω"],     opts:["dlc","ru"] },
  {title:"The Witcher 3: Wild Hunt",                       short:"Witcher 3",       group:"CD Projekt Red",     img:S(292030),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–°—é–∂–µ—Ç","–§—ç–Ω—Ç–µ–∑–∏"],  opts:["dlc","ru"] },

  // ‚îÄ‚îÄ‚îÄ Ubisoft ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Assassin's Creed Shadows",                       short:"AC Shadows",      group:"Ubisoft",            img:S(3159330), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:["dlc"] },
  {title:"Assassin's Creed Mirage",                        short:"AC Mirage",       group:"Ubisoft",            img:S(3035570), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:["dlc"] },
  {title:"Assassin's Creed Valhalla",                      short:"AC Valhalla",     group:"Ubisoft",            img:S(2208920), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–≠–∫—à–Ω"],             opts:["dlc"] },
  {title:"Assassin's Creed Odyssey",                       short:"AC Odyssey",      group:"Ubisoft",            img:S(812140),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–≠–∫—à–Ω"],             opts:["dlc"] },
  {title:"Assassin's Creed Origins",                       short:"AC Origins",      group:"Ubisoft",            img:S(582160),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–≠–∫—à–Ω"],             opts:["dlc"] },
  {title:"Assassin's Creed Syndicate",                     short:"AC Syndicate",    group:"Ubisoft",            img:S(368500),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:["dlc"] },
  {title:"Assassin's Creed Unity",                         short:"AC Unity",        group:"Ubisoft",            img:S(289650),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω","–ö–æ–æ–ø"],    opts:["dlc","online"] },
  {title:"Assassin's Creed IV: Black Flag",                short:"AC Black Flag",   group:"Ubisoft",            img:S(242050),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω","–ü–∏—Ä–∞—Ç—ã"],          opts:["dlc"] },
  {title:"Assassin's Creed III Remastered",                short:"AC III",          group:"Ubisoft",            img:S(911400),                tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:[] },
  {title:"Assassin's Creed Rogue",                         short:"AC Rogue",        group:"Ubisoft",            img:S(311560),                tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω","–ü–∏—Ä–∞—Ç—ã"],          opts:[] },
  {title:"Assassin's Creed Revelations",                   short:"AC Revelations",  group:"Ubisoft",            img:S(502750),                tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:[] },
  {title:"Assassin's Creed Brotherhood",                   short:"AC Brotherhood",  group:"Ubisoft",            img:S(48190),                 tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:[] },
  {title:"Assassin's Creed 2",                             short:"AC 2",            group:"Ubisoft",            img:S(33230),                 tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:[] },
  {title:"Assassin's Creed Director's Cut",                short:"AC 1",            group:"Ubisoft",            img:S(15100),                 tags:["–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],                          opts:[] },
  {title:"Assassin's Creed Liberation",                    short:"AC Liberation",   group:"Ubisoft",            img:S(260210),                tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—Ç–µ–ª—Å","–≠–∫—à–Ω"],           opts:[] },
  {title:"Assassin's Creed Chronicles: China",             short:"ACC China",       group:"Ubisoft",            img:S(354380),                tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–°—Ç–µ–ª—Å"],                    opts:[] },
  {title:"Assassin's Creed Chronicles: India",             short:"ACC India",       group:"Ubisoft",            img:S(359610),                tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–°—Ç–µ–ª—Å"],                    opts:[] },
  {title:"Assassin's Creed Chronicles: Russia",            short:"ACC Russia",      group:"Ubisoft",            img:S(359600),                tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–°—Ç–µ–ª—Å"],                    opts:[] },
  {title:"Far Cry 6",                                      short:"Far Cry 6",       group:"Ubisoft",            img:S(2369390), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä","–≠–∫—à–Ω"],           opts:["dlc"] },
  {title:"Far Cry 5",                                      short:"Far Cry 5",       group:"Ubisoft",            img:S(552520),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä","–ö–æ–æ–ø"],           opts:["dlc","online"] },
  {title:"Far Cry 4",                                      short:"Far Cry 4",       group:"Ubisoft",            img:S(298110),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä"],                  opts:["dlc"] },
  {title:"Far Cry 3",                                      short:"Far Cry 3",       group:"Ubisoft",            img:S(220240),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä"],                  opts:["dlc"] },
  {title:"Far Cry New Dawn",                               short:"FC New Dawn",     group:"Ubisoft",            img:S(939960),                tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä"],                  opts:[] },
  {title:"Far Cry Primal",                                 short:"FC Primal",       group:"Ubisoft",            img:S(371660),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω"],                   opts:["dlc"] },
  {title:"Watch Dogs 2",                                   short:"Watch Dogs 2",    group:"Ubisoft",            img:S(447040),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–•–∞–∫–∏–Ω–≥","–≠–∫—à–Ω"],          opts:["dlc"] },
  {title:"Watch Dogs: Legion",                             short:"Watch Dogs Legion",group:"Ubisoft",           img:S(2239550), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–•–∞–∫–∏–Ω–≥","–ö–æ–æ–ø"],          opts:["dlc","online"] },
  {title:"Tom Clancy's The Division 2",                    short:"The Division 2",  group:"Ubisoft",            img:S(2221490), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–®—É—Ç–µ—Ä","–ö–æ–æ–ø"],           opts:["dlc","online"] },
  {title:"For Honor",                                      short:"For Honor",       group:"Ubisoft",            img:S(304390),  hasDlc:true,  tags:["–§–∞–π—Ç–∏–Ω–≥","–ö–æ–æ–ø"],                        opts:["dlc","online"] },

  // ‚îÄ‚îÄ‚îÄ FromSoftware ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"ELDEN RING",                                     short:"Elden Ring",      group:"FromSoftware",       img:S(1245620), hasDlc:true,  tags:["Souls-like","–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–•–∞—Ä–¥–∫–æ—Ä"],   opts:["dlc"] },
  {title:"Dark Souls III",                                 short:"DS3",             group:"FromSoftware",       img:S(374320),  hasDlc:true,  tags:["Souls-like","–•–∞—Ä–¥–∫–æ—Ä","–≠–∫—à–Ω"],           opts:["dlc"] },
  {title:"Dark Souls II: Scholar of the First Sin",        short:"DS2",             group:"FromSoftware",       img:S(335300),  hasDlc:true,  tags:["Souls-like","–•–∞—Ä–¥–∫–æ—Ä"],                  opts:["dlc"] },
  {title:"DARK SOULS: REMASTERED",                         short:"DS1",             group:"FromSoftware",       img:S(570940),                tags:["Souls-like","–•–∞—Ä–¥–∫–æ—Ä"],                  opts:[] },
  {title:"Sekiro: Shadows Die Twice",                      short:"Sekiro",          group:"FromSoftware",       img:S(814380),                tags:["Souls-like","–•–∞—Ä–¥–∫–æ—Ä","–°—Ç–µ–ª—Å"],          opts:[] },
  {title:"Armored Core VI: Fires of Rubicon",              short:"AC6",             group:"FromSoftware",       img:S(1888160), hasDlc:true,  tags:["–†–æ–±–æ—Ç—ã","–•–∞—Ä–¥–∫–æ—Ä","–≠–∫—à–Ω"],               opts:["dlc"] },

  // ‚îÄ‚îÄ‚îÄ PlayStation Studios ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Lost Soul Aside",                                short:"Lost Soul Aside", group:"PlayStation",        img:S(3378960),               tags:["–≠–∫—à–Ω","RPG","–§—ç–Ω—Ç–µ–∑–∏"],                  opts:[] },
  {title:"Midnight Murder Club",                           short:"MMC",             group:"PlayStation",        img:S(2698870),               tags:["–•–æ—Ä—Ä–æ—Ä","–ö–æ–æ–ø","–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä"],           opts:["online"] },
  {title:"Stellar Blade",                                  short:"Stellar Blade",   group:"PlayStation",        img:S(3489700), hasDlc:true,  tags:["–≠–∫—à–Ω","Souls-like","–°—é–∂–µ—Ç"],             opts:["dlc"] },
  {title:"Marvel's Spider-Man 2",                          short:"Spider-Man 2",    group:"PlayStation",        img:S(2651280), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω","–°—É–ø–µ—Ä–≥–µ—Ä–æ–π"],      opts:["dlc"] },
  {title:"LEGO Horizon Adventures",                        short:"LEGO Horizon",    group:"PlayStation",        img:S(2428810),               tags:["–ö–æ–æ–ø","–î–ª—è –≤—Å–µ—Ö","–≠–∫—à–Ω"],                opts:["online"] },
  {title:"Horizon Zero Dawn Remastered",                   short:"Horizon ZD",      group:"PlayStation",        img:S(2561580), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–≠–∫—à–Ω"],             opts:["dlc"] },
  {title:"Until Dawn",                                     short:"Until Dawn",      group:"PlayStation",        img:S(2172010),               tags:["–•–æ—Ä—Ä–æ—Ä","–°—é–∂–µ—Ç","–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∫–∏–Ω–æ"],   opts:[] },
  {title:"God of War Ragnar√∂k",                            short:"GoW Ragnar√∂k",    group:"PlayStation",        img:S(2322010), hasDlc:true,  tags:["–≠–∫—à–Ω","–°—é–∂–µ—Ç","–ú–∏—Ñ–æ–ª–æ–≥–∏—è"],             opts:["dlc"] },
  {title:"Ghost of Tsushima DIRECTOR'S CUT",               short:"Ghost of Tsushima",group:"PlayStation",      img:S(2215430), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°–∞–º—É—Ä–∞–π","–°—Ç–µ–ª—Å"],        opts:["dlc"] },
  {title:"Horizon Forbidden West: Complete Edition",       short:"Horizon FW",      group:"PlayStation",        img:S(2420110), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–≠–∫—à–Ω"],             opts:["dlc"] },
  {title:"Helldivers 2",                                   short:"Helldivers 2",    group:"PlayStation",        img:S(553850),  hasDlc:true,  tags:["–ö–æ–æ–ø","–®—É—Ç–µ—Ä","–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä"],            opts:["dlc","online"] },
  {title:"Ratchet & Clank: Rift Apart",                    short:"Ratchet & Clank", group:"PlayStation",        img:S(1895880),               tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–î–ª—è –≤—Å–µ—Ö","–≠–∫—à–Ω"],          opts:[] },
  {title:"The Last of Us Part I",                          short:"TLOU 1",          group:"PlayStation",        img:S(1888930),               tags:["–•–æ—Ä—Ä–æ—Ä","–°—é–∂–µ—Ç","–í—ã–∂–∏–≤–∞–Ω–∏–µ"],            opts:[] },
  {title:"The Last of Us Part II Remastered",              short:"TLOU 2",          group:"PlayStation",        img:S(2531310), hasDlc:true,  tags:["–•–æ—Ä—Ä–æ—Ä","–°—é–∂–µ—Ç","–í—ã–∂–∏–≤–∞–Ω–∏–µ"],            opts:["dlc"] },
  {title:"Returnal",                                       short:"Returnal",        group:"PlayStation",        img:S(1649240),               tags:["Roguelike","–•–∞—Ä–¥–∫–æ—Ä","–®—É—Ç–µ—Ä"],           opts:[] },
  {title:"Marvel's Spider-Man: Miles Morales",             short:"Spider-Man MM",   group:"PlayStation",        img:S(1817190),               tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω","–°—É–ø–µ—Ä–≥–µ—Ä–æ–π"],      opts:[] },
  {title:"Sackboy: A Big Adventure",                       short:"Sackboy",         group:"PlayStation",        img:S(1599660),               tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–ö–æ–æ–ø","–î–ª—è –≤—Å–µ—Ö"],          opts:["online"] },
  {title:"Uncharted: Legacy of Thieves Collection",        short:"Uncharted",       group:"PlayStation",        img:S(1659420),               tags:["–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ","–°—é–∂–µ—Ç","–≠–∫—à–Ω"],            opts:[] },
  {title:"Marvel's Spider-Man Remastered",                 short:"Spider-Man",      group:"PlayStation",        img:S(1817070), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–≠–∫—à–Ω","–°—É–ø–µ—Ä–≥–µ—Ä–æ–π"],      opts:["dlc"] },
  {title:"God of War",                                     short:"God of War 2018", group:"PlayStation",        img:S(1593500),               tags:["–≠–∫—à–Ω","–°—é–∂–µ—Ç","–ú–∏—Ñ–æ–ª–æ–≥–∏—è"],             opts:[] },
  {title:"Days Gone",                                      short:"Days Gone",       group:"PlayStation",        img:S(1259420),               tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–ó–æ–º–±–∏","–í—ã–∂–∏–≤–∞–Ω–∏–µ"],      opts:[] },
  {title:"Horizon Zero Dawn Complete Edition",             short:"Horizon ZD CE",   group:"PlayStation",        img:S(1151640), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–≠–∫—à–Ω"],             opts:["dlc"] },
  {title:"Detroit: Become Human",                          short:"Detroit",         group:"PlayStation",        img:S(1222140),               tags:["–°—é–∂–µ—Ç","–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∫–∏–Ω–æ","–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞"],opts:[] },
  {title:"Beyond: Two Souls",                              short:"Beyond",          group:"PlayStation",        img:S(960990),                tags:["–°—é–∂–µ—Ç","–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∫–∏–Ω–æ"],            opts:[] },
  {title:"Everybody's Gone to the Rapture",                short:"Rapture",         group:"PlayStation",        img:S(417880),                tags:["–ü—Ä–æ–≥—É–ª–æ—á–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä","–°—é–∂–µ—Ç"],         opts:[] },
  {title:"Death Stranding Director's Cut",                 short:"Death Stranding", group:"PlayStation",        img:S(1850570), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–°—é–∂–µ—Ç","–ù–µ–æ–±—ã—á–Ω–æ–µ"],      opts:["dlc"] },

  // ‚îÄ‚îÄ‚îÄ Gearbox ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Tiny Tina's Wonderlands",                        short:"Wonderlands",     group:"Gearbox",            img:S(1286680), hasDlc:true,  tags:["–®—É—Ç–µ—Ä","RPG","–ö–æ–æ–ø","–Æ–º–æ—Ä"],             opts:["dlc","online"] },
  {title:"Borderlands 3",                                  short:"BL3",             group:"Gearbox",            img:S(397540),  hasDlc:true,  tags:["–®—É—Ç–µ—Ä","RPG","–ö–æ–æ–ø","–Æ–º–æ—Ä"],             opts:["dlc","online"] },
  {title:"Borderlands 2",                                  short:"BL2",             group:"Gearbox",            img:S(49520),   hasDlc:true,  tags:["–®—É—Ç–µ—Ä","RPG","–ö–æ–æ–ø","–Æ–º–æ—Ä"],             opts:["dlc","online"] },
  {title:"Borderlands: The Pre-Sequel",                    short:"BL Pre-Sequel",   group:"Gearbox",            img:S(261640),  hasDlc:true,  tags:["–®—É—Ç–µ—Ä","RPG","–ö–æ–æ–ø"],                    opts:["dlc","online"] },
  {title:"Borderlands Game of the Year Enhanced",          short:"BL1",             group:"Gearbox",            img:S(729040),  hasDlc:true,  tags:["–®—É—Ç–µ—Ä","RPG","–ö–æ–æ–ø"],                    opts:["dlc","online"] },
  {title:"New Tales from the Borderlands",                 short:"New Tales BL",    group:"Gearbox",            img:S(1454970),               tags:["–°—é–∂–µ—Ç","–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∫–∏–Ω–æ","–Æ–º–æ—Ä"],     opts:[] },
  {title:"Tales from the Borderlands",                     short:"Tales BL",        group:"Gearbox",            img:S(330830),                tags:["–°—é–∂–µ—Ç","–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∫–∏–Ω–æ","–Æ–º–æ—Ä"],     opts:[] },

  // ‚îÄ‚îÄ‚îÄ Bethesda ‚Äî Fallout ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Fallout 4",                                      short:"FO4",             group:"Bethesda",           img:S(377160),  hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–ü–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å"],  opts:["dlc","ru"] },
  {title:"Fallout: New Vegas",                             short:"FNV",             group:"Bethesda",           img:S(22380),   hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–ü–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å"],  opts:["dlc"] },
  {title:"Fallout 3",                                      short:"FO3",             group:"Bethesda",           img:S(22300),   hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","RPG","–ü–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å"],  opts:["dlc"] },
  {title:"Fallout 76",                                     short:"FO76",            group:"Bethesda",           img:S(1151340), hasDlc:true,  tags:["–û—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä","–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä","–ü–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å"],opts:["dlc","online"] },

  // ‚îÄ‚îÄ‚îÄ SCS Software ‚Äî Trucks ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Euro Truck Simulator 2",                         short:"ETS2",            group:"SCS Software",       img:S(227300),  hasDlc:true,  tags:["–°–∏–º—É–ª—è—Ç–æ—Ä","–†–∞—Å—Å–ª–∞–±–ª—è—é—â–µ–µ","–ö–æ–æ–ø"],       opts:["dlc","online"] },
  {title:"American Truck Simulator",                       short:"ATS",             group:"SCS Software",       img:S(270880),  hasDlc:true,  tags:["–°–∏–º—É–ª—è—Ç–æ—Ä","–†–∞—Å—Å–ª–∞–±–ª—è—é—â–µ–µ","–ö–æ–æ–ø"],       opts:["dlc","online"] },

  // ‚îÄ‚îÄ‚îÄ –ò–Ω–¥–∏ ‚Ä¢ Roguelike ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Hades",                                          short:"Hades",           group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(1145360),               tags:["Roguelike","–≠–∫—à–Ω","–°—é–∂–µ—Ç"],              opts:[] },
  {title:"Hades II",                                       short:"Hades II",        group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(1145350),               tags:["Roguelike","–≠–∫—à–Ω"],                      opts:[] },
  {title:"Dead Cells",                                     short:"Dead Cells",      group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(588650),  hasDlc:true,  tags:["Roguelike","–ú–µ—Ç—Ä–æ–∏–¥–≤–∞–Ω–∏—è","–•–∞—Ä–¥–∫–æ—Ä"],     opts:["dlc"] },
  {title:"Risk of Rain 2",                                 short:"RoR2",            group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(632360),  hasDlc:true,  tags:["Roguelike","–®—É—Ç–µ—Ä","–ö–æ–æ–ø"],              opts:["dlc","online"] },
  {title:"Risk of Rain Returns",                           short:"RoR Returns",     group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(1337520),               tags:["Roguelike","–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä"],                opts:[] },
  {title:"Enter the Gungeon",                              short:"EtG",             group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(311690),                tags:["Roguelike","–®—É—Ç–µ—Ä","–ö–æ–æ–ø"],              opts:["online"] },
  {title:"The Binding of Isaac: Repentance",               short:"BoI Repentance",  group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(1426300), hasDlc:true,  tags:["Roguelike","–•–∞—Ä–¥–∫–æ—Ä"],                   opts:["dlc"] },
  {title:"Slay the Spire",                                 short:"StS",             group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(646570),  hasDlc:true,  tags:["Roguelike","–ö–∞—Ä—Ç–æ—á–Ω–∞—è"],                 opts:["dlc"] },
  {title:"Vampire Survivors",                              short:"Vampire Survivors",group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",  img:S(1794680), hasDlc:true,  tags:["Roguelike","–ö–∞–∑—É–∞–ª—å–Ω–æ–µ"],                opts:["dlc"] },
  {title:"Balatro",                                        short:"Balatro",         group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(2379780),               tags:["Roguelike","–ö–∞—Ä—Ç–æ—á–Ω–∞—è"],                 opts:[] },
  {title:"Deep Rock Galactic: Survivor",                   short:"DRG Survivor",    group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(2321470),               tags:["Roguelike","–®—É—Ç–µ—Ä"],                     opts:[] },
  {title:"Spelunky 2",                                     short:"Spelunky 2",      group:"–ò–Ω–¥–∏ ‚Ä¢ Roguelike",   img:S(418530),                tags:["Roguelike","–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–•–∞—Ä–¥–∫–æ—Ä"],       opts:[] },

  // ‚îÄ‚îÄ‚îÄ –ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Hollow Knight",                                  short:"Hollow Knight",   group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(367520),                tags:["–ú–µ—Ç—Ä–æ–∏–¥–≤–∞–Ω–∏—è","–•–∞—Ä–¥–∫–æ—Ä","–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"],    opts:[] },
  {title:"Celeste",                                        short:"Celeste",         group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(504230),                tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–•–∞—Ä–¥–∫–æ—Ä","–°—é–∂–µ—Ç"],          opts:[] },
  {title:"Ori and the Blind Forest",                       short:"Ori 1",           group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(261570),                tags:["–ú–µ—Ç—Ä–æ–∏–¥–≤–∞–Ω–∏—è","–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"],              opts:[] },
  {title:"Ori and the Will of the Wisps",                  short:"Ori 2",           group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(1057090),               tags:["–ú–µ—Ç—Ä–æ–∏–¥–≤–∞–Ω–∏—è","–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"],              opts:[] },
  {title:"Cuphead",                                        short:"Cuphead",         group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(268910),  hasDlc:true,  tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–•–∞—Ä–¥–∫–æ—Ä","–ö–æ–æ–ø"],           opts:["dlc","online"] },
  {title:"A Hat in Time",                                  short:"A Hat in Time",   group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(253230),  hasDlc:true,  tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–î–ª—è –≤—Å–µ—Ö","–ö–æ–æ–ø"],          opts:["dlc","online"] },
  {title:"Pizza Tower",                                    short:"Pizza Tower",     group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(2231450),               tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–Æ–º–æ—Ä"],                     opts:[] },
  {title:"Shovel Knight: Treasure Trove",                  short:"Shovel Knight",   group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(311690),                tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–†–µ—Ç—Ä–æ","–ö–æ–æ–ø"],             opts:["online"] },
  {title:"Mewgenics",                                      short:"Mewgenics",       group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(686060),                tags:["–†–æ–≥–∞–ª–∏–∫","–°—Ç—Ä–∞—Ç–µ–≥–∏—è"],                   opts:[] },
  {title:"DELTARUNE",                                       short:"Deltarune",        group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(1671210),               tags:["RPG","–°—é–∂–µ—Ç"],                           opts:[] },
  {title:"Katana ZERO",                                    short:"Katana Zero",     group:"–ò–Ω–¥–∏ ‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",  img:S(460950),                tags:["–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–°—é–∂–µ—Ç","–ù—É–∞—Ä"],             opts:[] },

  // ‚îÄ‚îÄ‚îÄ –ò–Ω–¥–∏ ‚Ä¢ RPG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Stardew Valley",                                 short:"Stardew",         group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(413150),                tags:["–§–∞—Ä–º–∏–Ω–≥","–†–∞—Å—Å–ª–∞–±–ª—è—é—â–µ–µ","–ö–æ–æ–ø"],        opts:["online"] },
  {title:"Undertale",                                      short:"Undertale",       group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(391540),                tags:["RPG","–°—é–∂–µ—Ç","–ù–µ–æ–±—ã—á–Ω–æ–µ"],               opts:[] },
  {title:"Deltarune",                                      short:"Deltarune",       group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(1671870),               tags:["RPG","–°—é–∂–µ—Ç","–ù–µ–æ–±—ã—á–Ω–æ–µ"],               opts:[] },
  {title:"Disco Elysium",                                  short:"Disco Elysium",   group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(632470),  hasDlc:true,  tags:["RPG","–°—é–∂–µ—Ç","–î–µ—Ç–µ–∫—Ç–∏–≤"],                opts:["dlc","ru"] },
  {title:"Bastion",                                        short:"Bastion",         group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(107100),                tags:["RPG","–≠–∫—à–Ω","–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"],                opts:[] },
  {title:"Transistor",                                     short:"Transistor",      group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(237930),                tags:["RPG","–°—Ç—Ä–∞—Ç–µ–≥–∏—è","–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"],           opts:[] },
  {title:"Pyre",                                           short:"Pyre",            group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(462770),                tags:["RPG","–°—é–∂–µ—Ç","–°–ø–æ—Ä—Ç"],                   opts:[] },
  {title:"Outer Wilds",                                    short:"Outer Wilds",     group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(753640),  hasDlc:true,  tags:["–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ","–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ","–°—é–∂–µ—Ç"],    opts:["dlc"] },
  {title:"Tunic",                                          short:"Tunic",           group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(553420),                tags:["–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ","–•–∞—Ä–¥–∫–æ—Ä","–ó–∞–≥–∞–¥–∫–∏"],      opts:[] },
  {title:"Inscryption",                                    short:"Inscryption",     group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(1092790), hasDlc:true,  tags:["–ö–∞—Ä—Ç–æ—á–Ω–∞—è","–•–æ—Ä—Ä–æ—Ä","–ù–µ–æ–±—ã—á–Ω–æ–µ"],        opts:["dlc"] },
  {title:"Hotline Miami",                                  short:"Hotline Miami",   group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(219150),                tags:["–≠–∫—à–Ω","–•–∞—Ä–¥–∫–æ—Ä","–ù–∞—Å–∏–ª–∏–µ"],              opts:[] },
  {title:"Hotline Miami 2: Wrong Number",                  short:"HM2",             group:"–ò–Ω–¥–∏ ‚Ä¢ RPG",         img:S(274170),                tags:["–≠–∫—à–Ω","–•–∞—Ä–¥–∫–æ—Ä","–ù–∞—Å–∏–ª–∏–µ"],              opts:[] },

  // ‚îÄ‚îÄ‚îÄ –ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Terraria",                                       short:"Terraria",        group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(105600),                tags:["–í—ã–∂–∏–≤–∞–Ω–∏–µ","–ö—Ä–∞—Ñ—Ç","–ö–æ–æ–ø","–ü–µ—Å–æ—á–Ω–∏—Ü–∞"],  opts:["online"] },
  {title:"Subnautica",                                     short:"Subnautica",      group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(264710),                tags:["–í—ã–∂–∏–≤–∞–Ω–∏–µ","–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ","–•–æ—Ä—Ä–æ—Ä"],     opts:[] },
  {title:"Subnautica: Below Zero",                         short:"Subnautica BZ",   group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(848450),                tags:["–í—ã–∂–∏–≤–∞–Ω–∏–µ","–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ"],              opts:[] },
  {title:"Valheim",                                        short:"Valheim",         group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(892970),  hasDlc:true,  tags:["–í—ã–∂–∏–≤–∞–Ω–∏–µ","–ö—Ä–∞—Ñ—Ç","–ö–æ–æ–ø","–í–∏–∫–∏–Ω–≥–∏"],    opts:["dlc","online"] },
  {title:"RimWorld",                                       short:"RimWorld",        group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(294100),  hasDlc:true,  tags:["–°—Ç—Ä–∞—Ç–µ–≥–∏—è","–í—ã–∂–∏–≤–∞–Ω–∏–µ","–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"],    opts:["dlc"] },
  {title:"Oxygen Not Included",                            short:"ONI",             group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(457140),                tags:["–°—Ç—Ä–∞—Ç–µ–≥–∏—è","–í—ã–∂–∏–≤–∞–Ω–∏–µ","–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"],    opts:[] },
  {title:"Satisfactory",                                   short:"Satisfactory",    group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(526870),  hasDlc:true,  tags:["–ö—Ä–∞—Ñ—Ç","–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ","–ö–æ–æ–ø"],          opts:["dlc","online"] },
  {title:"Don't Starve Together",                          short:"DST",             group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(322330),                tags:["–í—ã–∂–∏–≤–∞–Ω–∏–µ","–ö–æ–æ–ø","–•–∞—Ä–¥–∫–æ—Ä"],            opts:["online"] },
  {title:"Rain World",                                     short:"Rain World",      group:"–ò–Ω–¥–∏ ‚Ä¢ –í—ã–∂–∏–≤–∞–Ω–∏–µ",   img:S(312520),  hasDlc:true,  tags:["–í—ã–∂–∏–≤–∞–Ω–∏–µ","–•–∞—Ä–¥–∫–æ—Ä","–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"],       opts:["dlc"] },

  // ‚îÄ‚îÄ‚îÄ –ò–Ω–¥–∏ ‚Ä¢ –ö–æ–æ–ø ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Among Us",                                       short:"Among Us",        group:"–ò–Ω–¥–∏ ‚Ä¢ –ö–æ–æ–ø",        img:S(945360),                tags:["–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä","–î–ª—è –≤—Å–µ—Ö","–ö–∞–∑—É–∞–ª—å–Ω–æ–µ"],   opts:["online"] },
  {title:"Deep Rock Galactic",                             short:"DRG",             group:"–ò–Ω–¥–∏ ‚Ä¢ –ö–æ–æ–ø",        img:S(548430),  hasDlc:true,  tags:["–ö–æ–æ–ø","–®—É—Ç–µ—Ä","–ü–æ–¥–∑–µ–º–µ–ª—å–µ"],             opts:["dlc","online"] },
  {title:"It Takes Two",                                   short:"It Takes Two",    group:"–ò–Ω–¥–∏ ‚Ä¢ –ö–æ–æ–ø",        img:S(1426210),               tags:["–ö–æ–æ–ø","–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä","–°—é–∂–µ—Ç"],             opts:["online"] },

  // ‚îÄ‚îÄ‚îÄ –ò–Ω–¥–∏ ‚Ä¢ –°—Ç—Ä–∞—Ç–µ–≥–∏—è ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {title:"Into the Breach",                                short:"Into the Breach", group:"–ò–Ω–¥–∏ ‚Ä¢ –°—Ç—Ä–∞—Ç–µ–≥–∏—è",   img:S(590380),                tags:["–°—Ç—Ä–∞—Ç–µ–≥–∏—è","–ü–æ—à–∞–≥–æ–≤–∞—è","–†–æ–±–æ—Ç—ã"],        opts:[] },
  {title:"FTL: Faster Than Light",                         short:"FTL",             group:"–ò–Ω–¥–∏ ‚Ä¢ –°—Ç—Ä–∞—Ç–µ–≥–∏—è",   img:S(212680),  hasDlc:true,  tags:["–°—Ç—Ä–∞—Ç–µ–≥–∏—è","Roguelike","–•–∞—Ä–¥–∫–æ—Ä"],       opts:["dlc"] },
  {title:"Invisible, Inc.",                                short:"Invisible Inc",   group:"–ò–Ω–¥–∏ ‚Ä¢ –°—Ç—Ä–∞—Ç–µ–≥–∏—è",   img:S(243970),                tags:["–°—Ç—Ä–∞—Ç–µ–≥–∏—è","–°—Ç–µ–ª—Å","–ü–æ—à–∞–≥–æ–≤–∞—è"],         opts:[] },
];

// –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
const seen = new Set();
const ALL = GAMES.filter(g => { if(seen.has(g.title)) return false; seen.add(g.title); return true; });

// ‚îÄ‚îÄ –°–æ–±–∏—Ä–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç—É–¥–∏–∏, –∂–∞–Ω—Ä—ã (–∏–Ω–¥–∏-–≥—Ä—É–ø–ø—ã), —Ç–µ–≥–∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const STUDIOS  = [...new Set(ALL.filter(g=>!g.group.startsWith('–ò–Ω–¥–∏')).map(g=>g.group))];
const GENRES   = [...new Set(ALL.filter(g=>g.group.startsWith('–ò–Ω–¥–∏')).map(g=>g.group))];
const ALL_TAGS = [...new Set(ALL.flatMap(g=>g.tags||[]))].sort();

// ‚îÄ‚îÄ Telegram WebApp ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const tg = window.Telegram?.WebApp;
if(tg){ tg.ready(); tg.expand(); tg.setHeaderColor('#0f0d17'); tg.setBackgroundColor('#0f0d17'); }
function sendToBot(n){ if(tg) tg.sendData(n); else showToast('üéÆ '+n); }

// ‚îÄ‚îÄ DOM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const listEl       = document.getElementById('list');
const emptyEl      = document.getElementById('empty');
const countEl      = document.getElementById('countNum');
const searchEl     = document.getElementById('search');
const clearBtn     = document.getElementById('clearBtn');
const toastEl      = document.getElementById('toast');
const btnList      = document.getElementById('btnList');
const btnGrid      = document.getElementById('btnGrid');
const resetBtn     = document.getElementById('resetBtn');
const studioList   = document.getElementById('studio-list');
const genreList    = document.getElementById('genre-list');
const tagListEl    = document.getElementById('tag-list');
const activeFilters= document.getElementById('activeFilters');
const tagSearchEl  = document.getElementById('tagSearch');
const filterToggle = document.getElementById('filterToggleBtn');
const filterBadge  = document.getElementById('filterBadge');
const sidebar      = document.getElementById('sidebar');
const overlay      = document.getElementById('sidebarOverlay');

let view = 'list', toastT = null;

// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
const state = {
  query: '',
  studios: new Set(),   // –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—É–¥–∏–∏
  genres:  new Set(),   // –∞–∫—Ç–∏–≤–Ω—ã–µ –∂–∞–Ω—Ä—ã (–∏–Ω–¥–∏-–≥—Ä—É–ø–ø—ã)
  tags:    new Set(),   // –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ–≥–∏
  opts:    new Set(),   // dlc | ru | online
};

// ‚îÄ‚îÄ Toast ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showToast(m){ toastEl.textContent=m; toastEl.classList.add('show'); clearTimeout(toastT); toastT=setTimeout(()=>toastEl.classList.remove('show'),2200); }
function hl(t,q){ if(!q) return t; const e=q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'); return t.replace(new RegExp(`(${e})`,'gi'),'<mark>$1</mark>'); }
function grpBy(arr){ const g={}; arr.forEach(x=>{ if(!g[x.group]) g[x.group]=[]; g[x.group].push(x); }); return g; }

// ‚îÄ‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ —Å–∞–π–¥–±–∞—Ä–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function countFor(set, key, val){
  // —Å—á–∏—Ç–∞–µ–º —Å–∫–æ–ª—å–∫–æ –∏–≥—Ä –±—É–¥–µ—Ç –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
  return ALL.filter(g=> matchesState(g, {...state, [key]: new Set([...set, val])})).length;
}

function buildSidebarButtons(){
  // –°—Ç—É–¥–∏–∏
  studioList.innerHTML = '';
  STUDIOS.forEach(s=>{
    const cnt = ALL.filter(g=>g.group===s).length;
    const btn = document.createElement('button');
    btn.className = 'tag-btn';
    btn.dataset.type = 'studio';
    btn.dataset.val  = s;
    btn.innerHTML = `<span class="tag-ico">üéÆ</span>${s}<span class="tag-count">${cnt}</span>`;
    studioList.appendChild(btn);
  });

  // –ñ–∞–Ω—Ä—ã
  genreList.innerHTML = '';
  GENRES.forEach(g=>{
    const cnt = ALL.filter(x=>x.group===g).length;
    const btn = document.createElement('button');
    btn.className = 'tag-btn';
    btn.dataset.type = 'genre';
    btn.dataset.val  = g;
    const label = g.replace('–ò–Ω–¥–∏ ‚Ä¢ ','');
    btn.innerHTML = `<span class="tag-ico">üïπÔ∏è</span>${label}<span class="tag-count">${cnt}</span>`;
    genreList.appendChild(btn);
  });

  // –¢–µ–≥–∏
  tagListEl.innerHTML = '';
  ALL_TAGS.forEach(t=>{
    const cnt = ALL.filter(g=>(g.tags||[]).includes(t)).length;
    const btn = document.createElement('button');
    btn.className = 'tag-btn';
    btn.dataset.type = 'tag';
    btn.dataset.val  = t;
    btn.innerHTML = `<span class="tag-ico">üè∑Ô∏è</span>${t}<span class="tag-count">${cnt}</span>`;
    tagListEl.appendChild(btn);
  });
}

// ‚îÄ‚îÄ –ú–∞—Ç—á –∏–≥—Ä—ã —Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function matchesState(g, s){
  // –ü–æ–∏—Å–∫
  if(s.query){
    const q = s.query;
    if(!g.title.toLowerCase().includes(q) && !g.short.toLowerCase().includes(q) && !g.group.toLowerCase().includes(q)) return false;
  }
  // –°—Ç—É–¥–∏—è/–∂–∞–Ω—Ä (—Å—Ç—É–¥–∏–∏ –∏ –∂–∞–Ω—Ä—ã ‚Äî —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è group)
  if(s.studios.size > 0 || s.genres.size > 0){
    const allGroups = new Set([...s.studios, ...s.genres]);
    if(!allGroups.has(g.group)) return false;
  }
  // –¢–µ–≥–∏
  if(s.tags.size > 0){
    const gt = g.tags||[];
    for(const t of s.tags){ if(!gt.includes(t)) return false; }
  }
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
  if(s.opts.has('dlc') && !g.hasDlc) return false;
  if(s.opts.has('ru')  && !(g.opts||[]).includes('ru')) return false;
  if(s.opts.has('online') && !(g.opts||[]).includes('online')) return false;
  return true;
}

// ‚îÄ‚îÄ –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —á–∏–ø—ã –Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateActiveFilters(){
  activeFilters.innerHTML = '';
  const add = (label, removeFn) => {
    const chip = document.createElement('div');
    chip.className = 'af-chip';
    chip.innerHTML = `${label}<span class="af-chip-x">√ó</span>`;
    chip.addEventListener('click', removeFn);
    activeFilters.appendChild(chip);
  };
  state.studios.forEach(v=> add(v,       ()=>{ state.studios.delete(v); syncAndRender(); }));
  state.genres.forEach(v=>  add(v.replace('–ò–Ω–¥–∏ ‚Ä¢ ',''), ()=>{ state.genres.delete(v); syncAndRender(); }));
  state.tags.forEach(v=>    add('üè∑ '+v,  ()=>{ state.tags.delete(v); syncAndRender(); }));
  if(state.opts.has('dlc'))    add('üîñ DLC',           ()=>{ state.opts.delete('dlc'); syncAndRender(); });
  if(state.opts.has('ru'))     add('üá∑üá∫ –†—É—Å—Å–∫–∏–π',      ()=>{ state.opts.delete('ru'); syncAndRender(); });
  if(state.opts.has('online')) add('üåê –û–Ω–ª–∞–π–Ω',        ()=>{ state.opts.delete('online'); syncAndRender(); });

  // –ë–µ–π–¥–∂ –Ω–∞ –∫–Ω–æ–ø–∫–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–º–æ–±–∏–ª—å)
  const total = state.studios.size + state.genres.size + state.tags.size + state.opts.size;
  filterBadge.textContent = total;
  filterBadge.classList.toggle('show', total > 0);
}

// ‚îÄ‚îÄ –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É –∫–Ω–æ–ø–æ–∫ –≤ —Å–∞–π–¥–±–∞—Ä–µ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function syncButtonStates(){
  document.querySelectorAll('.tag-btn[data-type]').forEach(btn=>{
    const {type, val} = btn.dataset;
    let active = false;
    if(type==='studio') active = state.studios.has(val);
    else if(type==='genre') active = state.genres.has(val);
    else if(type==='tag')   active = state.tags.has(val);
    btn.classList.toggle('active', active);
  });
  document.querySelectorAll('.tag-btn[data-opt]').forEach(btn=>{
    btn.classList.toggle('active', state.opts.has(btn.dataset.opt));
  });
}

function syncAndRender(){
  syncButtonStates();
  updateActiveFilters();
  render();
}

// ‚îÄ‚îÄ –ö–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º —Å–∞–π–¥–±–∞—Ä–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.addEventListener('click', e=>{
  const btn = e.target.closest('.tag-btn[data-type]');
  if(btn){
    const {type, val} = btn.dataset;
    const setMap = {studio: state.studios, genre: state.genres, tag: state.tags};
    const s = setMap[type];
    if(s.has(val)) s.delete(val); else s.add(val);
    syncAndRender();
  }
  const optBtn = e.target.closest('.tag-btn[data-opt]');
  if(optBtn){
    const o = optBtn.dataset.opt;
    if(state.opts.has(o)) state.opts.delete(o); else state.opts.add(o);
    syncAndRender();
  }
  // –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ —Å–µ–∫—Ü–∏–∏
  const hdr = e.target.closest('.sb-section-hdr');
  if(hdr){
    hdr.parentElement.classList.toggle('collapsed');
  }
});

// ‚îÄ‚îÄ –°–±—Ä–æ—Å ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
resetBtn.addEventListener('click', ()=>{
  state.studios.clear(); state.genres.clear(); state.tags.clear(); state.opts.clear();
  state.query = ''; searchEl.value = ''; clearBtn.classList.remove('visible');
  syncAndRender();
});

// ‚îÄ‚îÄ –ú–æ–±–∏–ª—å–Ω—ã–π –¥—Ä–æ–≤–µ—Ä ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
filterToggle.addEventListener('click', ()=>{ sidebar.classList.add('open'); overlay.classList.add('open'); });
overlay.addEventListener('click', ()=>{ sidebar.classList.remove('open'); overlay.classList.remove('open'); });
sidebar.addEventListener('click', e=>{ e.stopPropagation(); });

// ‚îÄ‚îÄ –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
tagSearchEl.addEventListener('input', ()=>{
  const q = tagSearchEl.value.trim().toLowerCase();
  tagListEl.querySelectorAll('.tag-btn[data-type="tag"]').forEach(btn=>{
    btn.style.display = btn.dataset.val.toLowerCase().includes(q) ? '' : 'none';
  });
});
// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–µ–∫—Ü–∏–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–Ω–ø—É—Ç
tagSearchEl.addEventListener('click', e => e.stopPropagation());

// ‚îÄ‚îÄ –ü–æ–∏—Å–∫ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
searchEl.addEventListener('input', ()=>{
  state.query = searchEl.value.trim().toLowerCase();
  clearBtn.classList.toggle('visible', searchEl.value.length > 0);
  render();
});
clearBtn.addEventListener('click', ()=>{
  searchEl.value=''; state.query=''; clearBtn.classList.remove('visible'); render();
});

// ‚îÄ‚îÄ –í–∏–¥ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
btnList.addEventListener('click',()=>{ if(view==='list') return; view='list'; btnList.classList.add('active'); btnGrid.classList.remove('active'); render(); });
btnGrid.addEventListener('click',()=>{ if(view==='grid') return; view='grid'; btnGrid.classList.add('active'); btnList.classList.remove('active'); render(); });

// ‚îÄ‚îÄ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≥—Ä—É–ø–ø—ã ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function pubHdr(name, extra=''){
  const d = document.createElement('div');
  d.className = 'pub-header'+(extra?' '+extra:'');
  d.innerHTML = `<div class="pub-dot"></div><div class="pub-name">${name}</div><div class="pub-line"></div>`;
  return d;
}

// ‚îÄ‚îÄ –†–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–æ–∫ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderList(filtered, q){
  Object.entries(grpBy(filtered)).forEach(([grpName, games])=>{
    listEl.appendChild(pubHdr(grpName));
    games.forEach(g=>{
      const c = document.createElement('div');
      c.className = 'list-card';
      const dlc = g.hasDlc ? '<span class="dlc-tag">DLC</span>' : '';
      const tagsHtml = (g.tags||[]).length
        ? `<div class="list-tags">${(g.tags||[]).map(t=>`<span class="list-tag">${t}</span>`).join('')}</div>` : '';
      c.innerHTML = `
        <div class="list-icon"><img src="${g.img}" alt="" loading="lazy" onerror="this.style.display='none';this.parentNode.textContent='üéÆ'"></div>
        <div class="list-info">
          <div class="list-row"><div class="list-title">${hl(g.title,q)}</div>${dlc}</div>
          <div class="list-sub">${g.short}</div>
          ${tagsHtml}
        </div>
        <div class="list-arrow">‚Ä∫</div>
      `;
      c.addEventListener('click',()=>sendToBot(g.title));
      listEl.appendChild(c);
    });
  });
}

// ‚îÄ‚îÄ –†–µ–Ω–¥–µ—Ä —Å–µ—Ç–∫–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderGrid(filtered, q){
  Object.entries(grpBy(filtered)).forEach(([grpName, games])=>{
    listEl.appendChild(pubHdr(grpName,'grid-pub-hdr'));
    const wrap = document.createElement('div');
    wrap.className = 'grid-wrap';
    games.forEach(g=>{
      const c = document.createElement('div');
      c.className = 'grid-card'+(g.hasDlc?' is-dlc':'');
      const tagsHtml = (g.tags||[]).slice(0,3).length
        ? `<div class="grid-tags">${(g.tags||[]).slice(0,3).map(t=>`<span class="grid-tag">${t}</span>`).join('')}</div>` : '';
      c.innerHTML = `
        <div class="grid-img">
          <img src="${g.img}" alt="${g.title}" loading="lazy" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
          <div class="grid-placeholder" style="display:none">üéÆ</div>
          <div class="grid-badge">${g.short}</div>
          ${g.hasDlc?'<div class="grid-dlc-badge">DLC</div>':''}
        </div>
        <div class="grid-info">
          <div class="grid-title">${hl(g.title,q)}</div>
          <div class="grid-pub">${grpName}</div>
          ${tagsHtml}
        </div>
      `;
      c.addEventListener('click',()=>sendToBot(g.title));
      wrap.appendChild(c);
    });
    listEl.appendChild(wrap);
  });
}

// ‚îÄ‚îÄ –ì–ª–∞–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function render(){
  const filtered = ALL.filter(g=>matchesState(g, state));
  countEl.textContent = filtered.length;
  listEl.innerHTML = '';
  if(!filtered.length){ emptyEl.classList.add('visible'); return; }
  emptyEl.classList.remove('visible');
  const q = state.query;
  if(view==='list') renderList(filtered,q);
  else renderGrid(filtered,q);
}

// ‚îÄ‚îÄ –ò–Ω–∏—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
buildSidebarButtons();
syncButtonStates();
render();
</script>
</body>
</html>
