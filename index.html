<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>The Pass ‚Äî –ö–∞—Ç–∞–ª–æ–≥</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –¥—Ä–æ–≤–µ—Ä–∞ -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="modal">
      <div class="modal-img">
        <img id="modalImg" src="" alt="">
        <div class="modal-img-overlay"></div>
        <div class="modal-img-placeholder" style="display:none">üéÆ</div>
      </div>
      <div class="modal-body">
        <div class="modal-top-row">
          <div class="modal-label">–ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫ –∏–≥—Ä—ã?</div>
          <button class="modal-fav-btn" id="modalFavBtn" title="–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">ü§ç</button>
        </div>
        <div class="modal-title" id="modalTitle"></div>
        <div class="modal-meta"  id="modalMeta"></div>
        <!-- –ë–µ–π–¥–∂ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ -->
        <div class="modal-source" id="modalSource"></div>
        <div class="modal-tags"  id="modalTags"></div>
        <div class="modal-actions">
          <button class="modal-btn modal-btn-cancel"  id="modalCancel">–û—Ç–º–µ–Ω–∞</button>
          <button class="modal-btn modal-btn-confirm" id="modalConfirm">üîç –ù–∞–π—Ç–∏</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –°–¢–†–ê–ù–ò–¶–ê ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="page">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –°–ê–ô–î–ë–ê–† –§–ò–õ–¨–¢–†–û–í ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <aside class="sidebar" id="sidebar">

      <!-- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é -->
      <div class="sb-section" id="sec-name">
        <div class="sb-section-hdr">
          <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
          <span class="sb-chevron">‚ñæ</span>
        </div>
        <div class="sb-body">
          <div class="search-wrap" style="margin-bottom:0">
            <span class="search-icon">üîç</span>
            <input
              class="search-input" id="search" type="text"
              placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ç–µ–≥—É..."
              autocomplete="off" autocorrect="off" spellcheck="false"
              style="font-size:12px;padding:8px 8px 8px 30px"
            >
            <button class="search-clear" id="clearBtn" style="width:18px;height:18px;font-size:10px">‚úï</button>
          </div>
        </div>
      </div>

      <div class="sb-sep"></div>

      <!-- –°—Ç—É–¥–∏–∏ ‚Äî —Å–≤—ë—Ä–Ω—É—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
      <div class="sb-section collapsed" id="sec-studio">
        <div class="sb-section-hdr">
          <span>–°—Ç—É–¥–∏—è</span>
          <span class="sb-chevron">‚ñæ</span>
        </div>
        <div class="sb-body" id="studio-list"></div>
      </div>

      <div class="sb-sep"></div>

      <!-- –ñ–∞–Ω—Ä—ã ‚Äî —Å–≤—ë—Ä–Ω—É—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
      <div class="sb-section collapsed" id="sec-genre">
        <div class="sb-section-hdr">
          <span>–ñ–∞–Ω—Ä</span>
          <span class="sb-chevron">‚ñæ</span>
        </div>
        <div class="sb-body" id="genre-list"></div>
      </div>

      <div class="sb-sep"></div>

      <!-- –¢–µ–≥–∏ ‚Äî —Å–≤—ë—Ä–Ω—É—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
      <div class="sb-section collapsed" id="sec-tags">
        <div class="sb-section-hdr">
          <span>–¢–µ–≥–∏</span>
          <span class="sb-chevron">‚ñæ</span>
        </div>
        <div class="sb-body">
          <div style="position:relative;margin-bottom:4px">
            <span style="position:absolute;left:9px;top:50%;transform:translateY(-50%);color:var(--dim);font-size:12px;pointer-events:none">üîç</span>
            <input
              id="tagSearch" type="text"
              placeholder="–ü–æ–∏—Å–∫ —Ç–µ–≥–æ–≤..."
              autocomplete="off" spellcheck="false"
              style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:7px 7px 7px 28px;color:var(--text);font-family:'Inter',sans-serif;font-size:11px;outline:none;transition:border-color .2s"
            >
          </div>
          <div id="tag-list"></div>
        </div>
      </div>

      <div class="sb-sep"></div>

      <!-- –ò—Å—Ç–æ—á–Ω–∏–∫ -->
      <div class="sb-section" id="sec-source">
        <div class="sb-section-hdr">
          <span>–ò—Å—Ç–æ—á–Ω–∏–∫</span>
          <span class="sb-chevron">‚ñæ</span>
        </div>
        <div class="sb-body">
          <button class="tag-btn" id="sourceLocal" data-source="local">
            <span class="tag-ico">‚ö°</span>–õ–æ–∫–∞–ª—å–Ω—ã–µ
            <span class="source-hint">–º–≥–Ω–æ–≤–µ–Ω–Ω–æ</span>
          </button>
          <button class="tag-btn" id="sourceSteam" data-source="steam">
            <span class="tag-ico">üîµ</span>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
            <span class="source-hint">—á–µ—Ä–µ–∑ —Å–∞–π—Ç</span>
          </button>
        </div>
      </div>

      <div class="sb-sep"></div>

      <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã -->
      <div class="sb-section" id="sec-opts">
        <div class="sb-section-hdr">
          <span>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</span>
          <span class="sb-chevron">‚ñæ</span>
        </div>
        <div class="sb-body">
          <button class="tag-btn" data-opt="dlc">
            <span class="tag-ico">üîñ</span>–° DLC
          </button>
          <button class="tag-btn" data-opt="ru">
            <span class="tag-ico">üá∑üá∫</span>–†—É—Å—Å–∫–∏–π —è–∑—ã–∫
          </button>
          <button class="tag-btn" data-opt="online">
            <span class="tag-ico">üåê</span>–î–æ—Å—Ç—É–ø–µ–Ω –æ–Ω–ª–∞–π–Ω (–±–µ—Ç–∞)
          </button>
        </div>
      </div>

      <button class="sb-reset" id="resetBtn">‚úï –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>

      <!-- Sticky-–∫–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤–æ" (—Ç–æ–ª—å–∫–æ –º–æ–±–∏–ª—å) -->
      <div class="sb-footer">
        <button class="sb-done-btn" id="doneBtn">–ì–æ—Ç–æ–≤–æ</button>
      </div>

    </aside>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="main">

      <!-- –®–∞–ø–∫–∞ -->
      <div class="header">
        <div class="header-logo">üéÆ</div>
        <div class="header-text">
          <h1>The Pass</h1>
          <p>–ö–∞—Ç–∞–ª–æ–≥ –∏–≥—Ä</p>
        </div>
        <div class="header-spacer"></div>
        <!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <button class="stats-toggle-btn" id="statsBtn" title="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (?)">üìä</button>
        <button class="filter-toggle-btn" id="filterToggleBtn">
          <svg width="13" height="13" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1 3h14v1.5L9 10v5l-2-1V10L1 4.5V3z"/>
          </svg>
          –§–∏–ª—å—Ç—Ä—ã
          <span class="filter-badge" id="filterBadge">0</span>
        </button>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
      <div class="stats-panel" id="statsPanel"></div>

      <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã-—á–∏–ø—ã -->
      <div class="active-filters" id="activeFilters"></div>

      <!-- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ -->
      <div class="fav-panel" id="favPanel">
        <div class="fav-hdr">
          <div class="fav-title">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ <span class="fav-count" id="favCount"></span></div>
          <button class="history-clear" id="favClear">–û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
        <div class="fav-list" id="favList"></div>
      </div>

      <!-- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ -->
      <div class="history-panel" id="historyPanel">
        <div class="history-hdr">
          <div class="history-title">üïê –ù–µ–¥–∞–≤–Ω–æ –∏—Å–∫–∞–ª–∏</div>
          <button class="history-clear" id="historyClear">–û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
        <div class="history-list" id="historyList"></div>
      </div>

      <!-- –¢—É–ª–±–∞—Ä: —Å—á—ë—Ç—á–∏–∫ + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ + –≤–∏–¥ -->
      <div class="toolbar">
        <div class="stats-count">–ù–∞–π–¥–µ–Ω–æ: <span id="countNum">0</span></div>
        <div class="toolbar-right">
          <select class="sort-select" id="sortSelect">
            <option value="default">–ü–æ –≥—Ä—É–ø–ø–∞–º</option>
            <option value="az">–ê ‚Üí –Ø</option>
            <option value="za">–Ø ‚Üí –ê</option>
            <option value="recent">–ù–µ–¥–∞–≤–Ω–∏–µ</option>
          </select>
          <div class="view-toggle">
            <button class="view-btn active" id="btnList" title="–°–ø–∏—Å–æ–∫">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="currentColor">
                <rect x="0" y="1.5"  width="16" height="2.8" rx="1.2"/>
                <rect x="0" y="6.5"  width="16" height="2.8" rx="1.2"/>
                <rect x="0" y="11.5" width="16" height="2.8" rx="1.2"/>
              </svg>
            </button>
            <button class="view-btn" id="btnGrid" title="–ö–∞—Ä—Ç–æ—á–∫–∏">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="currentColor">
                <rect x="0" y="0" width="7" height="7" rx="1.5"/>
                <rect x="9" y="0" width="7" height="7" rx="1.5"/>
                <rect x="0" y="9" width="7" height="7" rx="1.5"/>
                <rect x="9" y="9" width="7" height="7" rx="1.5"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- –°—á—ë—Ç—á–∏–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ -->
      <div class="source-stats" id="sourceStats"></div>

      <!-- –°–ø–∏—Å–æ–∫ / —Å–µ—Ç–∫–∞ –∏–≥—Ä -->
      <div id="list"></div>

      <!-- –ó–∞–≥–ª—É—à–∫–∞ "–Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" -->
      <div class="empty" id="empty">
        <div class="empty-icon">üîç</div>
        <div class="empty-text">–ò–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</div>
        <div class="empty-sub">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ –∑–∞–ø—Ä–æ—Å</div>
      </div>

    </div>
  </div>

  <!-- –¢–æ—Å—Ç-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
  <div class="toast" id="toast"></div>

  <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à -->
  <div class="hotkey-hint" id="hotkeyHint">
    <kbd>/</kbd> –ø–æ–∏—Å–∫ ¬∑ <kbd>?</kbd> —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ¬∑ <kbd>Esc</kbd> –∑–∞–∫—Ä—ã—Ç—å
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –°–ö–†–ò–ü–¢–´ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <script src="data.js"></script>
  <script src="state.js"></script>
  <script src="history.js"></script>
  <script src="favorites.js"></script>
  <script src="stats.js"></script>
  <script src="modal.js"></script>
  <script src="sidebar.js"></script>
  <script src="render.js"></script>
  <script src="app.js"></script>

</body>
</html>
